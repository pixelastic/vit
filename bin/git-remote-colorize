#!/usr/bin/env zsh
# Displays a colorized version of a remote name
# Usage:
# $ git-remote-colorize                    # {currentRemote}
# $ git-remote-colorize upstream           # upstream
# $ git-remote-colorize --with-icon        #  upstream

# Parsing arguments into positional and flags
local argsf=(${(f)"$(argsf $@)"})
local argsp=(${(f)"$(argsp $@)"})

# Remote name
local remoteName="$argsp[1]"
if [[ $remoteName == '' ]]; then
  remoteName="$(git-remote-current)"
fi

local remoteColor="$(git-remote-color $remoteName)"

# If --with-icon is not passed, we simply display the colored commit
if [[ $argsf != *"--with-icon"* ]]; then
  colorize "$remoteName" "$remoteColor"
  exit
fi

colorize " $remoteName" "$remoteColor"
exit
