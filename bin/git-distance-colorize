#!/usr/bin/env zsh
# Displays a colorized version of a distance ahead/behind
# Usage:
# $ git-distance-colorize "[ahead 4]"                  #  4
# $ git-distance-colorize "[behind 1]"                 #  1
# $ git-distance-colorize "[ahead 4, behind 1]"        #  4,  1

# Message {{{
local distance="$argv[1]"
[[ "$distance" == '' ]] && exit 0
# }}}

local ahead="$(echo "$distance" | sed -n "s/.*ahead \([0-9]*\).*/\1/p")"
local behind="$(echo "$distance" | sed -n "s/.*behind \([0-9]*\).*/\1/p")"

local output=()
[[ "$ahead" != "" ]] && output+="$(colorize " $ahead" green)"
[[ "$behind" != "" ]] && output+="$(colorize " $behind" red)"

echo $output
